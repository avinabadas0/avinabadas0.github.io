{{ define "main" }}
<header class="l-hero">
    <span class="l-hero__greeting">FullStack Developer</span>
    <h1 class="l-hero__name">Avinaba Das</h1>
    <p class="l-hero__bio">Building robust multitenant architectures, agentic systems, and high-performance applications
        with Rust, React, and AWS.</p>
    <a href="/about" class="btn btn--primary">Deep dive into my work</a>
</header>

<main class="l-grid">
    {{/* Timeline Section */}}
    {{ partial "components/bento-card.html" (dict
    "class" "col-span-8 span-row-2"
    "title" "Timeline"
    "content" (partial "components/timeline-vertical.html" .)
    ) }}

    {{/* Skills Card */}}
    {{ partial "components/bento-card.html" (dict
    "class" "col-span-4"
    "title" "Stack"
    "content" (partial "components/skills-grid.html" .)
    ) }}

    {{/* Featured Project */}}
    {{ range where .Site.RegularPages "Params.featured" true | first 1 }}
    {{ partial "components/bento-card.html" (dict
    "class" "col-span-4 c-card--hero"
    "title" .Title
    "content" (print `<p class='text-body' style='color: var(--color-text-secondary)'>` .Summary `</p><a
        href='` .RelPermalink `' class='btn btn--secondary' style='margin-top: 16px'>Examine Case Study</a>`)
    ) }}
    {{ end }}

    {{/* Latest Blogs */}}
    <div class="col-span-12">
        <div
            style="display: flex; justify-content: space-between; align-items: center; margin: var(--spacing-xl) 0 var(--spacing-md);">
            <h2 class="text-h2">Recent Writing</h2>
            <a href="/blogs" class="btn btn--secondary" style="padding: 6px 16px; font-size: 12px;">All Posts</a>
        </div>

        <div class="blog-list">
            {{ range (where .Site.RegularPages "Section" "blogs") | first 3 }}
            <a href="{{ .RelPermalink }}" class="blog-item">
                <div class="blog-item__main">
                    <h3 class="blog-item__title">{{ .Title }}</h3>
                    <p class="blog-item__desc">{{ .Params.desc | default .Summary }}</p>
                </div>
                <div class="blog-item__meta">
                    <span class="blog-item__date">{{ .Date.Format "Jan 02, 2006" }}</span>
                    <div class="blog-item__pills">
                        {{ with .Params.project }}
                        <div class="blog-pill"><i data-lucide="layers"></i><span>{{ . }}</span></div>
                        {{ end }}

                        {{ $colors := slice "green" "purple" "orange" "pink" }}
                        {{ range $index, $tag := .Params.tags }}
                        {{ $color := index $colors (mod (len $tag) (len $colors)) }}
                        <div class="blog-pill blog-pill--{{ $color }}">
                            <i data-lucide="tag"></i>
                            <span>{{ . }}</span>
                        </div>
                        {{ end }}
                    </div>
                </div>
            </a>
            {{ end }}
        </div>
    </div>
</main>
{{ end }}